<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div>
        <ul class="ul-pagination">

        </ul>
    </div>
    <button onclick="left()"><<</button>
    <button onclick="right()">>></button>
    <script>
        let options= {
            newsToShow: '4',
            startFrom: '1',
            container: '.ul-pagination',
            maxPages: '5'
        }

let news = [
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
        {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
       {title: 'some title', subtitle: 'subtitle', img: 'image'},
   {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
        {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'},
    {title: 'some title', subtitle: 'subtitle', img: 'image'}
]
let items = []
let paginationList = document.querySelector(options.container)
let counter = 0
let pages = Math.ceil(news.length / options.newsToShow);
var pagesCount = Math.ceil(pages / options.maxPages)
//var helpers = {min: 1, dots:'...', max: pages}
//console.log(pagesCount)
//console.log(pages)
for (let i = 1; i < pages; i++) {
   // var element = document.createElement('li')
    if (i <= options.maxPages) {
  //      console.log(paginationList)
       var  element= i
  //  element.innerHTML = i
    //paginationList.append(element)
    items.push(element)
    } // else if (i == (parseInt(options.maxPages)+1) ) {
       // element.innerHTML = '...'
      //  paginationList.append(element)
     //   items.push(element)
     //  var max = document.createElement('li')
     //   max.innerHTML = pages
    //   paginationList.append(max) //max page num
    //   items.push(max)


 //   }   
}//end for
//  console.log(helpers.max - Math.max(...items))
 //   if (helpers.max - Math.max(...items) >=2 ) {
  //      items.push(helpers.dots, helpers.max)
   // }
var min = {min:0}
var dots = {dots:'...'}
var max = {max: pages}
console.log(items)




   // if ((typeof items[i]) == 'number' ){
      //      
 //   console.log(newValue)
 //   }


    //items.push([i]+5)
 //получаем массив всех слайдов [0,1,2,3]
//if (max.max- Math.max(...items) >=2 ) {
    //   items.push(dots, max)
   // }
//console.log(Math.max(...items))
//console.log(Math.min(...items))
//console.warn(Math.min(...items) - helpers.min)
//console.log(items[0]['innerText']) //рендер первой страницы

//console.log(helpers)



function setPage () {
    for (let value of paginationList.querySelectorAll('li')) { 
        if (parseInt(value.innerHTML) == parseInt(options.startFrom)){ 
         value.classList.add('active')
        }
    }
}
setPage()
//console.log(pages)

startPos = (options.startFrom - 1) * options.newsToShow
endPos = startPos + options.newsToShow

let NewsArray = news.slice(startPos, endPos)
console.log(NewsArray)
for (let value of NewsArray) {
    console.log(value['title'])
}
function left(){

}




console.log( '' - 1)



//document.querySelector(options.container).innerHTML=''
    let active = true 
function right() {
if (active) {
  document.querySelector(options.container).innerHTML=''
items.forEach(function(i, value) { 
//  console.log(value)
 
 var maxx = items.indexOf(Math.max(...items));
//console.log ((parseInt(max.max) - Math.max(...items)))
 //if ( typeof items[i] == 'number') {
   if (((parseInt(pages) - Math.max(...items)) ==1 )) {
    console.log('wwwwwwww')
     // if ( maxx <= (options.maxPages - 1) ) {
       // let newArr = items.slice(0, maxx+1)
       //     console.warn(newArr)
            return active = false

    //  }

    }       


    else {

      var newValue = items[value] + parseInt(options.maxPages)
      items[value] = newValue
       var li = document.createElement('li')
       li.innerHTML = newValue
       document.querySelector(options.container).append(li)


       console.log(i)
       console.log(maxx)
       console.log(options.maxPages)
       var maxxx = (Math.max(...items));
      if ( maxxx < (parseInt(pages - parseInt(options.maxPages))) ) {
        
       // if (items[items.length - 1] < maxxx){
          //  var dots = document.createElement('li')
          //  dots.innerHTML = '...'
          //  document.querySelector(options.container).append(dots)
      //  }
      //  console.log('kekeke')
       //let newArr = items.slice(0, maxx+1)
            //console.warn(newArr)
       // var dots = document.createElement('li')
      //  dots.innerHTML = '...'
      //  document.querySelector(options.container).append(dots)

      }

    //   if (i <= (options.maxPages - 1)) {
        //    var dots = document.createElement('li')
         //   dots.innerHTML = '...'
         //   document.querySelector(options.container).append(dots)
     //  }
    }



}

);
var maxxx = Math.max(...items)
let lastchild = document.querySelector(options.container).lastChild.innerHTML
lastchild = parseInt(lastchild)
if ( pages - maxxx >= 2)  {
    var dots = document.createElement('li')
    dots.innerHTML = '...'
    var pageMaxNum = document.createElement('li')
    pageMaxNum.innerHTML = pages
          

         document.querySelector(options.container).append(dots)
         document.querySelector(options.container).append(pageMaxNum)
   // if (document.querySelector(options.container).lastChild )
} else if ( pages - maxxx == 1) {
    var pageMaxNum = document.createElement('li')
    pageMaxNum.innerHTML = pages
          

         document.querySelector(options.container).append(pageMaxNum)
         
}
}//active  
}//right





    </script>
    <style type="text/css">
      .active {
        font-weight: bold;
      }
      ul {
        list-style: none

      }
      li {
        display: inline-block;
        padding: 15px;
      }
    </style>
</body>
</html>
