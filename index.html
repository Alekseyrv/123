<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div>
        <ul class="ul-pagination">

        </ul>
    </div>
    <button onclick="left(pagesOptions.pageContainer, pagesOptions.pageStart , pagesOptions.pagesTotal,pagesOptions.pagesToShow)"><<</button>
    <button onclick="right()">>></button>
    <script>
        let pagesOptions= {
            pagesTotal: '15',
            pagesToShow: '5',
            pageStart: '7',
            pageContainer: '.ul-pagination'
        }

        function kek(max,start,show) {
            arr= []
            for (let i = 1; i <= max; i++){
                arr.push(i)
            } 
            
            console.log(arr)//15
            start = parseInt(start)
            show = parseInt(show)
            //if ((start + show) <= (show + 1)){
            //    console.log(start+show )
           // }
         //  if ( (show - start) < -1 )
        }
        kek(pagesOptions.pagesTotal, pagesOptions.pageStart, pagesOptions.pagesToShow) 





        function setPages(pageStart, pagesToShow, pagesTotal, pageContainer ) {
           if (pageStart = pageStart ){
            for (let i = 1; i <= pagesToShow; i++) {
                var element = document.createElement('li')
                if (i == pageStart) {
                    element.className= 'active'
                }
                element.innerHTML = i    
                document.querySelector(pageContainer).append(element)
            
            } 
            var morePages = document.createElement('li')
            morePages.className = ('morePages')
            var maxPages = document.createElement('li')
            morePages.innerHTML = '...'
            maxPages.innerHTML = pagesTotal
            document.querySelector(pageContainer).append(morePages)
            document.querySelector(pageContainer).append(maxPages)
           }

           }
 
      
      
    setPages(pagesOptions.pageStart, pagesOptions.pagesToShow, pagesOptions.pagesTotal, pagesOptions.pageContainer, pagesOptions.pagesTotal )
   
    
function left(ul, pageStart , max, pagesToShow){
   arr = []
    for (let value of document.querySelectorAll(ul+'>li')) {
    //    console.log(value)
      arr.push(parseInt(value.innerHTML))
     //   if (value.classList.contains('active')) {
     //       arr['active'] = (parseInt(value.innerHTML))
     //   } else {
            
    //    }
        
        
       // arr.push({'page': value.innerHTML})

console.log(max)
        if (value.classList.contains('active') && value.previousElementSibling )  { // ... 15  !(value.previousElementSibling.classList.contains('morePages')) )

            console.log(parseInt(value.innerHTML) +' ' +parseInt(max))
           // if !(value.previousElementSibling.classList.contains('morePages')) {}
           if (value.previousElementSibling.classList.contains('morePages') && (parseInt(value.innerHTML) == parseInt(max)))  { // 1... 3 4 5 ... 15   = 15   1 2  3 4 ... 10
            console.log('kek')
            document.querySelector(ul).innerHTML = ''
            for (let i = (max-pagesToShow)+1; i <=  max; i++) {  //15 14 13  for (let i = max; i >=  (max-pagesToShow); i--) {
                var element = document.createElement('li')
                console.log(i)
                if (i == (max-1)) {
                    element.className= 'active'
                }
                element.innerHTML = i    
                document.querySelector(ul).append(element)
            
            } 
            var morePages = document.createElement('li')
            morePages.className = ('morePages')
            var minPages = document.createElement('li')
            morePages.innerHTML = '...'
            minPages.innerHTML = 1
            document.querySelector(ul).prepend(morePages)
            document.querySelector(ul).prepend(minPages)
            
           

            //morePages.previousElementSibling.classList.add('active')



           } else {
               if (!(value.previousElementSibling.classList.contains('morePages'))) {
                value.classList.remove('active')
                value.previousElementSibling.classList.add('active') 
               }

          }   
        }

    }
}
    


function right(){

}
       // let arr = []
      //  console.log(pagesOptions.pagesTotal)
     //  let 
     //  console.log(pages.innerHTML)
     //  for (let value of pages) {
     //       //console.log(value.innerHTML);     
      //         if (!(isNaN(value.innerHTML))) 
      //         console.log(value.innerHTML) 
      
//}

    </script>
</body>
</html>